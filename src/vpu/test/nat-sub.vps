|* Test natural number subtraction
	LDLc	RF, '\n'

	LDLs	RE, "Hand-picked subtractions:\n"
	PRINTs	RE

	LDLn	R0, 0
	LDLn	R1, 0
	SUBn	R0, R1
	PRINTn	R0
	PRINTc	RF

	LDLn	R0, 1
	LDLn	R1, 0
	SUBn	R0, R1
	PRINTn	R0
	PRINTc	RF

	LDLn	R0, 1
	LDLn	R1, 1
	SUBn	R0, R1
	PRINTn	R0
	PRINTc	RF

	LDLn	R0, 2
	LDLn	R1, 1
	SUBn	R0, R1
	PRINTn	R0
	PRINTc	RF

	|* two-limb argument, subtracting to 2 and 1 limbs
	LDLn	R0, 6000000000
	LDLn	R1, 1
	SUBn	R0, R1
	PRINTn	R0
	PRINTc	RF

	LDLn	R0, 6000000000
	LDLn	R1, 3000000000
	SUBn	R0, R1
	PRINTn	R0
	PRINTc	RF

	|* arguments with >1 limb
	LDLn	R0, 10000000000000
	LDLn	R1, 0
	SUBn	R0, R1
	PRINTn	R0
	PRINTc	RF

	LDLn	R0, 10000000000000
	LDLn	R1, 1
	SUBn	R0, R1
	PRINTn	R0
	PRINTc	RF

	LDLn	R0, 10000000000000
	LDLn	R1, 10000000000000
	SUBn	R0, R1
	PRINTn	R0
	PRINTc	RF

	|* test around 1-limb boundary
	LDLn	R0, 4294967297		|* 2^32 + 1
	LDLn	R1, 0
	SUBn	R0, R1
	PRINTn	R0
	PRINTc	RF

	LDLn	R0, 4294967297
	LDLn	R1, 1
	SUBn	R0, R1
	PRINTn	R0
	PRINTc	RF

	LDLn	R0, 4294967297
	LDLn	R1, 2
	SUBn	R0, R1
	PRINTn	R0
	PRINTc	RF

	LDLn	R0, 4294967297
	LDLn	R1, 4294967296
	SUBn	R0, R1
	PRINTn	R0
	PRINTc	RF

	LDLn	R0, 4294967297
	LDLn	R1, 4294967297
	SUBn	R0, R1
	PRINTn	R0
	PRINTc	RF

	LDLn	R0, 4294967296		|* 2^32
	LDLn	R1, 0
	SUBn	R0, R1
	PRINTn	R0
	PRINTc	RF

	LDLn	R0, 4294967296
	LDLn	R1, 1
	SUBn	R0, R1
	PRINTn	R0
	PRINTc	RF

	LDLn	R0, 4294967296
	LDLn	R1, 4294967295
	SUBn	R0, R1
	PRINTn	R0
	PRINTc	RF

	LDLn	R0, 4294967296
	LDLn	R1, 4294967296
	SUBn	R0, R1
	PRINTn	R0
	PRINTc	RF

	|* These values triggered a bug (now fixed) in borrow-calculation
	|* logic: the problematic case is a maximal subtrahend limb (2^b-1)
	|* with a borrow-in.
	LDLn	R0, 23365875825553440768
	LDLn	R1, 18446744070273577779
	SUBn	R0, R1
	PRINTn	R0
	PRINTc	RF

	LDLs	RE, "Randomly generated subtractions:\n"
	PRINTs	RE

	LDLn	R0, 99768098198688561469001181051545657170041392408787235952827185133412880720957840796584176
	LDLn	R1, 325150029018175436553449551067424252007657378067627584511882640971935297166
	SUBn	R0, R1
	PRINTn	R0
	PRINTc	RF
	LDLn	R0, 9537166563002349627557679826629
	LDLn	R1, 913445
	SUBn	R0, R1
	PRINTn	R0
	PRINTc	RF
	LDLn	R0, 174160468300634837441829639264763411610378346139064116761014775617446830169773308795397807584
	LDLn	R1, 773473356219766248079065173255335986594835373040
	SUBn	R0, R1
	PRINTn	R0
	PRINTc	RF
	LDLn	R0, 11063502390426748978273591933945605950402403680520486575343770657215845417919705726959765
	LDLn	R1, 155707735769607745156191470497566966794722179005833149433470691371023990059048
	SUBn	R0, R1
	PRINTn	R0
	PRINTc	RF
	LDLn	R0, 3913045057329912482392857953937329208975015007
	LDLn	R1, 49350876074210381281159083214878903292463
	SUBn	R0, R1
	PRINTn	R0
	PRINTc	RF
	LDLn	R0, 200615778066157504670817411938732631914068775747821676714162592499097177045798301845875193737782
	LDLn	R1, 1720674947479219306930788726342624701767430585289569611800012246001565974766
	SUBn	R0, R1
	PRINTn	R0
	PRINTc	RF
	LDLn	R0, 3713024758794415380344255613428341046947647408946093513436150419926465596744940363815248419738
	LDLn	R1, 37708228608978059569449003294628901593326296911062791970112440977773092460470
	SUBn	R0, R1
	PRINTn	R0
	PRINTc	RF
	LDLn	R0, 28743976722328769766768683229844804577394581032712400504
	LDLn	R1, 115032075295578440291412486114073918
	SUBn	R0, R1
	PRINTn	R0
	PRINTc	RF
	LDLn	R0, 91898833072917725046010014549837866212291408180543409152960318
	LDLn	R1, 959130590550352449930698477895176983068071063300871157439
	SUBn	R0, R1
	PRINTn	R0
	PRINTc	RF
	LDLn	R0, 223412017567017026487484040625879411622688528961364995381844138605008418911549750144
	LDLn	R1, 1900184366922199512960955749
	SUBn	R0, R1
	PRINTn	R0
	PRINTc	RF
	LDLn	R0, 43166135095708447669918291383852538846654391472173542390197028389769138021023340623196805
	LDLn	R1, 21642984353594230643421146606124846238107136800192178039279303122991433588
	SUBn	R0, R1
	PRINTn	R0
	PRINTc	RF
	LDLn	R0, 59598945109500334760919774377764333882955506658236346971606142880015578968478062776683629450
	LDLn	R1, 79606894053278879540866423380435798840672070143643092827485475737337942972382921698694970
	SUBn	R0, R1
	PRINTn	R0
	PRINTc	RF
	LDLn	R0, 4478034249372460813265899885195571101612943
	LDLn	R1, 507
	SUBn	R0, R1
	PRINTn	R0
	PRINTc	RF
	LDLn	R0, 2986756406931442840661268069467127995958533226762286844090046027624775869935057513150729207
	LDLn	R1, 27586070454687198325621651016045104000364872108664857899319930950754758
	SUBn	R0, R1
	PRINTn	R0
	PRINTc	RF
	LDLn	R0, 98267008833927403030098594207378392693912167056672349783356083275
	LDLn	R1, 31113384151155137737375095238368547382577158894755059952202738951
	SUBn	R0, R1
	PRINTn	R0
	PRINTc	RF
	LDLn	R0, 250925024530317596614780884679414160981837135331422459787830779698505839048578029221683014831270
	LDLn	R1, 315139
	SUBn	R0, R1
	PRINTn	R0
	PRINTc	RF
	LDLn	R0, 94523816001266473828983734523
	LDLn	R1, 89140
	SUBn	R0, R1
	PRINTn	R0
	PRINTc	RF
	LDLn	R0, 5081359220545084120835789
	LDLn	R1, 628424542958
	SUBn	R0, R1
	PRINTn	R0
	PRINTc	RF
	LDLn	R0, 67812322139637361632298171102042353456983640013663832099590424116102531009792
	LDLn	R1, 42129206974016945844673341999
	SUBn	R0, R1
	PRINTn	R0
	PRINTc	RF
	LDLn	R0, 2808625117091948147908772144815321207993299176918082834903
	LDLn	R1, 73
	SUBn	R0, R1
	PRINTn	R0
	PRINTc	RF
	LDLn	R0, 6502210702816561787754637858922024962767
	LDLn	R1, 78588015905
	SUBn	R0, R1
	PRINTn	R0
	PRINTc	RF
	LDLn	R0, 4033282105536707869646721949850075837042065501169906560300480217138436965961818851443437978905412
	LDLn	R1, 32258274686969607043153774263588083937053758229342770431931270631014323
	SUBn	R0, R1
	PRINTn	R0
	PRINTc	RF
	LDLn	R0, 3531419302104830671282481736998269106675015522035651797105990303240434225930734213934989109143
	LDLn	R1, 2486139252
	SUBn	R0, R1
	PRINTn	R0
	PRINTc	RF
	LDLn	R0, 52207534636156379739014321653768720933812327710519965487100081760697407722
	LDLn	R1, 7
	SUBn	R0, R1
	PRINTn	R0
	PRINTc	RF
	LDLn	R0, 299030375603624985561146884376868084691736457409496711973
	LDLn	R1, 7523747588753814132625534598108419420910
	SUBn	R0, R1
	PRINTn	R0
	PRINTc	RF
	LDLn	R0, 3602915135643600870253946686553677040338690838454529154055854058783046401686068
	LDLn	R1, 4482419543352496817816839266550815881655
	SUBn	R0, R1
	PRINTn	R0
	PRINTc	RF
	LDLn	R0, 65685241925578383541
	LDLn	R1, 24958051634318956228
	SUBn	R0, R1
	PRINTn	R0
	PRINTc	RF
	LDLn	R0, 55248224206787077940847085600830348097012008422490283701547
	LDLn	R1, 864370611561727914344260243235686545228429248598
	SUBn	R0, R1
	PRINTn	R0
	PRINTc	RF
	LDLn	R0, 444386412330908594161914665431012851281028828184669
	LDLn	R1, 32185189824470796447991157488045595504119176
	SUBn	R0, R1
	PRINTn	R0
	PRINTc	RF
	LDLn	R0, 53319519621672993072557865904102893816672735951202994894474926169865077259128523
	LDLn	R1, 168631372210009195769849043597762007000609983
	SUBn	R0, R1
	PRINTn	R0
	PRINTc	RF
	LDLn	R0, 220641944118750827280761409812046409523817687290538473759241313353838016
	LDLn	R1, 5942520171648265264956625335917296560192397
	SUBn	R0, R1
	PRINTn	R0
	PRINTc	RF
	LDLn	R0, 832918682036179515499
	LDLn	R1, 74897596031064201
	SUBn	R0, R1
	PRINTn	R0
	PRINTc	RF
	LDLn	R0, 92648457455020745092581958724399993877061259659973001423
	LDLn	R1, 8460
	SUBn	R0, R1
	PRINTn	R0
	PRINTc	RF
	LDLn	R0, 81259495128668238591685364332793195408404011134157964764678179
	LDLn	R1, 650637
	SUBn	R0, R1
	PRINTn	R0
	PRINTc	RF
	LDLn	R0, 25330401907303856
	LDLn	R1, 84194785
	SUBn	R0, R1
	PRINTn	R0
	PRINTc	RF
	LDLn	R0, 142411772671754433554920910759392279749449
	LDLn	R1, 2030396
	SUBn	R0, R1
	PRINTn	R0
	PRINTc	RF
	LDLn	R0, 38901573617117228267114413408070045019187156877857341411826723835273111459205665014264069779785
	LDLn	R1, 177917991121236324466769879068206798985312675388932933483591574569248647859851448
	SUBn	R0, R1
	PRINTn	R0
	PRINTc	RF
	LDLn	R0, 13431757034881311712630345592314707476323143082088538041718095
	LDLn	R1, 4392068274477790284920166737
	SUBn	R0, R1
	PRINTn	R0
	PRINTc	RF
	LDLn	R0, 560281884250359248507840240817866147997011004130962938795026962045911501812009521340
	LDLn	R1, 8243892078121429456374610000325794797721070969304950659537893075784
	SUBn	R0, R1
	PRINTn	R0
	PRINTc	RF
	LDLn	R0, 473136019937873090564048977267370868372688689996455668228078158010098884594068696230618253
	LDLn	R1, 148601291731452870677612129267066289
	SUBn	R0, R1
	PRINTn	R0
	PRINTc	RF
	LDLn	R0, 20709796734734667792124722962965778740971893
	LDLn	R1, 452202255091848
	SUBn	R0, R1
	PRINTn	R0
	PRINTc	RF
	LDLn	R0, 405581020391330155533300385220039222025670233864345299561642143168525603
	LDLn	R1, 34940165173146261329877839427976327351741476
	SUBn	R0, R1
	PRINTn	R0
	PRINTc	RF
	LDLn	R0, 111428260153857267616875196434491046129070339136913762309108606714886678693628
	LDLn	R1, 56
	SUBn	R0, R1
	PRINTn	R0
	PRINTc	RF
	LDLn	R0, 1728792782759848581849619393681181451470008911176720206126581815688915584707209586397839214982
	LDLn	R1, 67229848065592208700744380392116563693
	SUBn	R0, R1
	PRINTn	R0
	PRINTc	RF
	LDLn	R0, 4840191456246373694996339993904182140621547792461689
	LDLn	R1, 304432
	SUBn	R0, R1
	PRINTn	R0
	PRINTc	RF
	LDLn	R0, 127147279148155398935429704262274532117962260727123115263461178500
	LDLn	R1, 639297688634
	SUBn	R0, R1
	PRINTn	R0
	PRINTc	RF
	LDLn	R0, 506737016227985883125233534186685769085272822351305552068951119805998424799770397080766856896197
	LDLn	R1, 12077952517610387387152515943678102445
	SUBn	R0, R1
	PRINTn	R0
	PRINTc	RF
	LDLn	R0, 92477390539791366068540582437945100034815705168398911197587222405490647
	LDLn	R1, 0
	SUBn	R0, R1
	PRINTn	R0
	PRINTc	RF
	LDLn	R0, 701475899468366629167791016832819
	LDLn	R1, 704342999655567
	SUBn	R0, R1
	PRINTn	R0
	PRINTc	RF
	LDLn	R0, 85623183140192668780926100515951467932083761603329573410383077658000073073035345799775590078121361
	LDLn	R1, 286298838444140293267698218845816078786182
	SUBn	R0, R1
	PRINTn	R0
	PRINTc	RF
	LDLn	R0, 6513506278332051326420152629414396679663972589753751836233891367600561170735370
	LDLn	R1, 15880238925722130526721686320663079553097841540038750797774
	SUBn	R0, R1
	PRINTn	R0
	PRINTc	RF
	LDLn	R0, 208244738089109938363628896651650743811700271683926797013873935037867687143073
	LDLn	R1, 596786772407185800175994
	SUBn	R0, R1
	PRINTn	R0
	PRINTc	RF
	LDLn	R0, 90816087773124005246823019119073427901348513224747542701246079093111893517601270217358764675031
	LDLn	R1, 64928159127287985103652056656125811095896225212428207816483002814662278285989147034
	SUBn	R0, R1
	PRINTn	R0
	PRINTc	RF
	LDLn	R0, 77140328595290193368774233704116181279250915722414777580375749140007266275291713292515649100440
	LDLn	R1, 580266823726760
	SUBn	R0, R1
	PRINTn	R0
	PRINTc	RF
	LDLn	R0, 639377794640395833434785928804999422546824
	LDLn	R1, 470428830738765834120073
	SUBn	R0, R1
	PRINTn	R0
	PRINTc	RF
	LDLn	R0, 589694289325771099127296617259325948967568114047355296066533286340010885363377
	LDLn	R1, 0
	SUBn	R0, R1
	PRINTn	R0
	PRINTc	RF
	LDLn	R0, 835034715141068193067945616184925002095931903382816517402182785345584641503390930
	LDLn	R1, 2926625204250900184981784090982
	SUBn	R0, R1
	PRINTn	R0
	PRINTc	RF
	LDLn	R0, 783576889820899971914202237168728611304546291986127
	LDLn	R1, 98512505404574683774014837417756644619
	SUBn	R0, R1
	PRINTn	R0
	PRINTc	RF
	LDLn	R0, 854221585422501660595549111409923636603890699440656108156
	LDLn	R1, 850080497584215630036127182999471979705547466913423061105
	SUBn	R0, R1
	PRINTn	R0
	PRINTc	RF
	LDLn	R0, 44377663863902482521658020378907029862627704349222713840269096
	LDLn	R1, 342617911357958995591779713451219298983522386070
	SUBn	R0, R1
	PRINTn	R0
	PRINTc	RF
	LDLn	R0, 18070151221666812801057159518714413343419302166798641414564327
	LDLn	R1, 84295657653546361033336121854486381
	SUBn	R0, R1
	PRINTn	R0
	PRINTc	RF
	LDLn	R0, 241660173291462658289208462521920778144960755199939568540285929455337720366432985157948961
	LDLn	R1, 1895306620706103992209112567983213080849190084
	SUBn	R0, R1
	PRINTn	R0
	PRINTc	RF
	LDLn	R0, 56056422485965664320672900977376962
	LDLn	R1, 38
	SUBn	R0, R1
	PRINTn	R0
	PRINTc	RF
	LDLn	R0, 1423293114447258120516764930190
	LDLn	R1, 210827572
	SUBn	R0, R1
	PRINTn	R0
	PRINTc	RF
	LDLn	R0, 98445004739069534873852509450696700227846724777036181337772292325781273563071324769343982744027356
	LDLn	R1, 697510287238133
	SUBn	R0, R1
	PRINTn	R0
	PRINTc	RF
	LDLn	R0, 41015425513238389362137800647213128052122594330757655481469774954767943924879833107281
	LDLn	R1, 280108366085605184403
	SUBn	R0, R1
	PRINTn	R0
	PRINTc	RF
	LDLn	R0, 8768434833259644415956397424333422377360
	LDLn	R1, 3577744559
	SUBn	R0, R1
	PRINTn	R0
	PRINTc	RF
	LDLn	R0, 1003872317663988983770242538236911357439448847603267675889059821006655188372840266952137149655820
	LDLn	R1, 56657634707498425227521446514405387950090010052277199181060881578273531830004329790991
	SUBn	R0, R1
	PRINTn	R0
	PRINTc	RF
	LDLn	R0, 560195035411787280807298949719370044666741775148486591824886432535331235507234850
	LDLn	R1, 465526473878145053079788671232240561
	SUBn	R0, R1
	PRINTn	R0
	PRINTc	RF
	LDLn	R0, 57311207619659401809043536789654681744866881730009383759576783775854209323487
	LDLn	R1, 92124
	SUBn	R0, R1
	PRINTn	R0
	PRINTc	RF
	LDLn	R0, 15728100347421128878508900626956588169171802
	LDLn	R1, 2258688064796176
	SUBn	R0, R1
	PRINTn	R0
	PRINTc	RF
	LDLn	R0, 387807459946937453883094859880833714800603747931149940009571915854696851889909
	LDLn	R1, 6542205049707187319338234
	SUBn	R0, R1
	PRINTn	R0
	PRINTc	RF
	LDLn	R0, 530117880247490149754403587669660071121371526347009512137375709752458366
	LDLn	R1, 63956922363450981872675785
	SUBn	R0, R1
	PRINTn	R0
	PRINTc	RF
	LDLn	R0, 52580005815734689873603231673316322744275013845898
	LDLn	R1, 4401294
	SUBn	R0, R1
	PRINTn	R0
	PRINTc	RF
	LDLn	R0, 8400615569741373659607000106950644348811459490224539400919812330790266505331232219154586405950
	LDLn	R1, 0
	SUBn	R0, R1
	PRINTn	R0
	PRINTc	RF
	LDLn	R0, 1423254919262098838857535318658457066904257717972454383222
	LDLn	R1, 737773801
	SUBn	R0, R1
	PRINTn	R0
	PRINTc	RF
	LDLn	R0, 372885797010427773676575857056867390999133404150874989965188000516408574904771040048491273
	LDLn	R1, 976122265931249481312559518848322853
	SUBn	R0, R1
	PRINTn	R0
	PRINTc	RF
	LDLn	R0, 3268554494119900277772442605488180519682921351056317298486659889941811441477932
	LDLn	R1, 10857040720364378646
	SUBn	R0, R1
	PRINTn	R0
	PRINTc	RF
	LDLn	R0, 3532063021428827700785752668813908841511293602964710525417855722337356430230324
	LDLn	R1, 1634272559844855253547228142162316950211987282197652353338905723889
	SUBn	R0, R1
	PRINTn	R0
	PRINTc	RF
	LDLn	R0, 718136687
	LDLn	R1, 37
	SUBn	R0, R1
	PRINTn	R0
	PRINTc	RF
	LDLn	R0, 26885549098209587244295266948987041641475140304432099
	LDLn	R1, 0
	SUBn	R0, R1
	PRINTn	R0
	PRINTc	RF
	LDLn	R0, 8475568782206948134537724319971418217205323013359758320414651956382711830046509
	LDLn	R1, 279777602852480734082525401025282179779284181223573968472033
	SUBn	R0, R1
	PRINTn	R0
	PRINTc	RF
	LDLn	R0, 5512279074556293161138308455255
	LDLn	R1, 43422829576
	SUBn	R0, R1
	PRINTn	R0
	PRINTc	RF
	LDLn	R0, 404941186911606875464223511225108971799129038288
	LDLn	R1, 50986629636886109806892202
	SUBn	R0, R1
	PRINTn	R0
	PRINTc	RF
	LDLn	R0, 850860204001236147728846405481721651655341986741727849611446823642927000289878696
	LDLn	R1, 5991776882097120647348127263886400869252533688930
	SUBn	R0, R1
	PRINTn	R0
	PRINTc	RF
	LDLn	R0, 31112981656240589761432127843573546859436524
	LDLn	R1, 0
	SUBn	R0, R1
	PRINTn	R0
	PRINTc	RF
	LDLn	R0, 79588841703970069828174816206505415
	LDLn	R1, 4
	SUBn	R0, R1
	PRINTn	R0
	PRINTc	RF
	LDLn	R0, 6117285076019568276437622563412685517
	LDLn	R1, 0
	SUBn	R0, R1
	PRINTn	R0
	PRINTc	RF
	LDLn	R0, 697998691114066899337303067493270630339214417722489
	LDLn	R1, 4113153266
	SUBn	R0, R1
	PRINTn	R0
	PRINTc	RF
	LDLn	R0, 3173398452957960778988376738627557237539759148753096174085527291330260516879681800980381345
	LDLn	R1, 416033193299058838769086995708261903147575169899290
	SUBn	R0, R1
	PRINTn	R0
	PRINTc	RF
	LDLn	R0, 870304883960265662684761632555660254469753317074504995306975460933516060433118241
	LDLn	R1, 14610813525993650678247698808510201977066631147987495616552251965660775361
	SUBn	R0, R1
	PRINTn	R0
	PRINTc	RF
	LDLn	R0, 8731554961991426068487935977500111542247408077389917710903978793125129262874927484590
	LDLn	R1, 440467725328282676438238492574593049403133573528200228892729299472727254848
	SUBn	R0, R1
	PRINTn	R0
	PRINTc	RF
	LDLn	R0, 988766671328279974460830291907741542392890571658857044561144355
	LDLn	R1, 206272378659802603257826717419004995050113966690589729070262
	SUBn	R0, R1
	PRINTn	R0
	PRINTc	RF
	LDLn	R0, 10019321793166727941549006941574056511627858771554026702167666288189813719138104516274715
	LDLn	R1, 28914168884
	SUBn	R0, R1
	PRINTn	R0
	PRINTc	RF
	LDLn	R0, 1273709762763480726022633733173052721995895844877446853467983046158858436599563217404
	LDLn	R1, 59062621940
	SUBn	R0, R1
	PRINTn	R0
	PRINTc	RF
	LDLn	R0, 250600583708738303897077778127032222970
	LDLn	R1, 84095021780983982009894330188231638298
	SUBn	R0, R1
	PRINTn	R0
	PRINTc	RF
	LDLn	R0, 62736259088963894477090701622445433730808395
	LDLn	R1, 305980345735161506735929071021
	SUBn	R0, R1
	PRINTn	R0
	PRINTc	RF
	LDLn	R0, 5774695237981402656516095726799778993350833223709999882660170530875364539586583382323972641733232
	LDLn	R1, 747444052756494449921874487285730551402841750556709758259502951653527204335254575420112721334315
	SUBn	R0, R1
	PRINTn	R0
	PRINTc	RF
	LDLn	R0, 6963841005695017846630550411486523410731743797475342249258
	LDLn	R1, 14730
	SUBn	R0, R1
	PRINTn	R0
	PRINTc	RF
	LDLn	R0, 582775663189286940032239544626224450153751064149283140391383462225930126144381445487
	LDLn	R1, 9067274598460095020367913003235461820848710061315317079801622358638446704
	SUBn	R0, R1
	PRINTn	R0
	PRINTc	RF

	HALT
