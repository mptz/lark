#echo "Testing un-evaluated tests"
[p. a | b]
[p + 1. a | b]
[x? [x. a | b]]
[x, y? [x; y. a | b]]
[[x? x]. a | b]
[[x? x; 5] (3 + 3). a | b]

#echo "Testing test evaluation"
[0. fail | pass]
[1. pass | fail]
[1 - 1. fail | pass]
[0 + 1. pass | fail]
[[x? x] (0). fail | pass]
[[x? x] (1). pass | fail]
[[0. 0 | 1]. pass | fail]
[[0. 0 | 1] - 1. fail | pass]
[0. [x, y? x] | [x, y? y]] (fail, pass)

#echo "Testing tests with primitives"
[0 == 0. pass | fail]
[0 == 1. fail | pass]
[1 == 1. pass | fail]
[1 == 2. fail | pass]
[2 == 1 + 1. pass | fail]
[1 + 1 == 2. pass | fail]
[0 != 0. fail | pass]
[0 != 1. pass | fail]
[1 != 1. fail | pass]
[1 != 2. pass | fail]
[2 != 1 + 1. fail | pass]
[1 + 1 != 2. fail | pass]
|* XXX more tests for less than, etc here.

|* Specialized tests to ensure we're copying tests correctly, since like
|* abstractions they have internal chains for consequent and alternative
|* which need special handling while copying.  We must test both the copy
|* and the the substitution (overwrite-in-place) case.
#echo "Testing test-node substitution and copying"
[f, x? f (x)] ([y? [y. pass | fail]], 0 + 1)
[toggle? 1; toggle; toggle; toggle; toggle] ([b? [b. 0 | 1]])
