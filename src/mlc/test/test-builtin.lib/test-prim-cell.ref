Testing cell primitives: $at
form: $at (0, [#pass])
norm: #pass
======================================================================
form: $at (0, [#pass | #fail])
norm: #pass
======================================================================
form: $at (1, [#fail | #pass])
norm: #pass
======================================================================
form: $at (1, [#fail0 | #pass | #fail1])
norm: #pass
======================================================================
form: [n, c. $at (n, c)] (2, [#fail0 | #fail1 | #pass | #fail2 | #fail3])
norm: #pass
======================================================================
form: $at (1, [#a | [#b | #c] | #d])
norm: [#b | #c]
======================================================================
Testing cell primitives: $fill
XXX need basic tests
form: $fill (6, [row. $fill (6, [col. [row | col]])])
norm: [[[0 | 0] | [0 | 1] | [0 | 2] | [0 | 3] | [0 | 4] | [0 | 5]] | [[1 | 0] | [1 | 1] | [1 | 2] | [1 | 3] | [1 | 4] | [1 | 5]] | [[2 | 0] | [2 | 1] | [2 | 2] | [2 | 3] | [2 | 4] | [2 | 5]] | [[3 | 0] | [3 | 1] | [3 | 2] | [3 | 3] | [3 | 4] | [3 | 5]] | [[4 | 0] | [4 | 1] | [4 | 2] | [4 | 3] | [4 | 4] | [4 | 5]] | [[5 | 0] | [5 | 1] | [5 | 2] | [5 | 3] | [5 | 4] | [5 | 5]]]
======================================================================
Testing cell primitives: $fuse
form: $fuse ([], [])
norm: []
======================================================================
form: $fuse ([], [#a])
norm: [#a]
======================================================================
form: $fuse ([], [#a | #b | #c])
norm: [#a | #b | #c]
======================================================================
form: $fuse ([#b], [])
norm: [#b]
======================================================================
form: $fuse ([#b | #c | #d], [])
norm: [#b | #c | #d]
======================================================================
form: $fuse ([#a], [#b | #c])
norm: [#a | #b | #c]
======================================================================
form: $fuse ([#a | #b], [#c])
norm: [#a | #b | #c]
======================================================================
form: $fuse ([#a | #b], [#c | #d])
norm: [#a | #b | #c | #d]
======================================================================
Testing cell primitives: $is-cell
form: $is-cell ([])
norm: 1
======================================================================
form: $is-cell ([#a])
norm: 1
======================================================================
form: $is-cell ([#a | #b])
norm: 1
======================================================================
form: $is-cell ([#a | #b | #c])
norm: 1
======================================================================
form: $is-cell (0)
norm: 0
======================================================================
form: $is-cell (33)
norm: 0
======================================================================
form: $is-cell ([x. x])
norm: 0
======================================================================
form: $is-cell ($is-cell)
norm: 0
======================================================================
form: $is-cell (#unknown)
norm: 0
======================================================================
Testing cell primitives: # (number of elements)
form: # []
norm: 0
======================================================================
form: # [#a]
norm: 1
======================================================================
form: # [#a | #b]
norm: 2
======================================================================
form: # [#a | #b | #c | #d | #e]
norm: 5
======================================================================
form: # [[#a | #b]]
norm: 1
======================================================================
form: # 3
norm: # 3
======================================================================
form: # [x. x]
norm: # [x. x]
======================================================================
form: # #unknown
norm: # #unknown
======================================================================
form: # stuck
norm: # stuck
======================================================================
